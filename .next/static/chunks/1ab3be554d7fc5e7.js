(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,37727,e=>{"use strict";let t=(0,e.i(75254).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>t],37727)},92930,e=>{"use strict";let t=(0,e.i(75254).default)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);e.s(["Edit2",()=>t],92930)},87378,e=>{"use strict";let t=(0,e.i(75254).default)("banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);e.s(["Banknote",()=>t],87378)},50627,e=>{"use strict";let t=(0,e.i(75254).default)("receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);e.s(["Receipt",()=>t],50627)},39616,e=>{"use strict";let t=(0,e.i(75254).default)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Settings",()=>t],39616)},35980,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(83599),l=e.i(75254);let r=(0,l.default)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var i=e.i(55436);let d=(0,l.default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),n=(0,l.default)("badge-check",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var o=e.i(92930);let c=(0,l.default)("gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);var x=e.i(87378),b=e.i(50627),m=e.i(39616),h=e.i(37727);let u=e=>fetch(e).then(e=>e.json()),p=({member:e,onClose:a,onSave:l})=>{let r=!!e,[i,d]=(0,s.useState)({memberCode:e?.memberCode||`M${Date.now().toString().slice(-6)}`,fullName:e?.fullName||"",phone:e?.phone||"",tier:e?.tier||"BRONZE"}),[n,o]=(0,s.useState)(!1),c=async t=>{t.preventDefault(),o(!0);try{let t=r?`/api/members/${e.id}`:"/api/members/create";if(!(await fetch(t,{method:r?"PATCH":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)})).ok)throw Error("Failed to save");l()}catch(e){alert("Gagal menyimpan member"),console.error(e)}finally{o(!1)}};return(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"bg-[#0f1a14] border border-[#1e3328] rounded-xl w-full max-w-md overflow-hidden",children:[(0,t.jsxs)("div",{className:"p-4 border-b border-[#1e3328] bg-[#16261d] flex justify-between items-center",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:r?"Edit Member":"Tambah Member Baru"}),(0,t.jsx)("button",{onClick:a,className:"text-slate-400 hover:text-white",children:(0,t.jsx)(h.X,{size:20})})]}),(0,t.jsxs)("form",{onSubmit:c,className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-slate-500 uppercase font-bold block mb-1",children:"Kode Member"}),(0,t.jsx)("input",{type:"text",required:!0,value:i.memberCode,onChange:e=>d({...i,memberCode:e.target.value}),disabled:r,className:"w-full bg-[#050a07] border border-[#1e3328] rounded p-2 text-white text-sm focus:border-[#22c55e] outline-none font-mono disabled:opacity-50"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-slate-500 uppercase font-bold block mb-1",children:"Nama Lengkap"}),(0,t.jsx)("input",{type:"text",required:!0,value:i.fullName,onChange:e=>d({...i,fullName:e.target.value}),className:"w-full bg-[#050a07] border border-[#1e3328] rounded p-2 text-white text-sm focus:border-[#22c55e] outline-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-slate-500 uppercase font-bold block mb-1",children:"No. Telepon"}),(0,t.jsx)("input",{type:"tel",required:!0,value:i.phone,onChange:e=>d({...i,phone:e.target.value}),className:"w-full bg-[#050a07] border border-[#1e3328] rounded p-2 text-white text-sm focus:border-[#22c55e] outline-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-slate-500 uppercase font-bold block mb-1",children:"Tier"}),(0,t.jsxs)("select",{value:i.tier,onChange:e=>d({...i,tier:e.target.value}),className:"w-full bg-[#050a07] border border-[#1e3328] rounded p-2 text-white text-sm focus:border-[#22c55e] outline-none",children:[(0,t.jsx)("option",{value:"BRONZE",children:"Bronze"}),(0,t.jsx)("option",{value:"SILVER",children:"Silver"}),(0,t.jsx)("option",{value:"GOLD",children:"Gold"})]})]}),(0,t.jsx)("button",{type:"submit",disabled:n,className:"w-full py-3 bg-[#22c55e] hover:bg-[#16a34a] text-black font-bold rounded-lg disabled:opacity-50",children:n?"Menyimpan...":r?"Simpan Perubahan":"Tambah Member"})]})]})})};function f(){let[e,l]=(0,s.useState)(null),[h,f]=(0,s.useState)("history"),[j,g]=(0,s.useState)(""),[v,N]=(0,s.useState)(!1),[y,w]=(0,s.useState)(null),{data:k,mutate:S}=(0,a.default)(`/api/members?q=${j}`,u),z=k?.data||[],C=z.find(t=>t.id===e)||z[0];s.default.useEffect(()=>{!e&&z.length>0&&l(z[0].id)},[z,e]);let M=e=>{switch(e){case"GOLD":return"text-[#eab308] bg-[#eab308]/20 border-[#eab308]/30";case"SILVER":return"text-slate-300 bg-slate-700 border-slate-600";case"BRONZE":return"text-[#f97316] bg-[#f97316]/20 border-[#f97316]/30";default:return"text-slate-500 bg-slate-800 border-slate-700"}};return(0,t.jsxs)("div",{className:"flex flex-1 overflow-hidden relative h-full",children:[(0,t.jsxs)("aside",{className:"w-[400px] bg-[#0f1a14] border-r border-[#1e3328] flex flex-col shrink-0 z-10",children:[(0,t.jsxs)("div",{className:"p-4 border-b border-[#1e3328] space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h3",{className:"font-bold text-lg text-white",children:"Daftar Member"}),(0,t.jsxs)("button",{onClick:()=>{w(null),N(!0)},className:"flex items-center gap-2 bg-[#22c55e] hover:bg-[#16a34a] text-black text-sm font-bold py-1.5 px-3 rounded transition-colors",children:[(0,t.jsx)(r,{size:18})," Baru"]})]}),(0,t.jsxs)("div",{className:"relative group",children:[(0,t.jsx)("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-[#22c55e]",children:(0,t.jsx)(i.Search,{size:20})}),(0,t.jsx)("input",{className:"w-full bg-[#050a07] border border-[#1e3328] rounded py-2 pl-10 pr-4 text-sm text-white focus:ring-1 focus:ring-[#22c55e] focus:border-[#22c55e] placeholder:text-slate-600 outline-none",placeholder:"Cari nama, ID, atau no HP...",type:"text",value:j,onChange:e=>g(e.target.value)})]}),(0,t.jsxs)("div",{className:"flex gap-2 overflow-x-auto no-scrollbar pb-1",children:[(0,t.jsx)("button",{className:"bg-[#22c55e]/20 border border-[#22c55e] text-[#22c55e] px-3 py-1 rounded text-xs font-medium whitespace-nowrap",children:"Semua"}),["VIP Gold","Silver","Expired"].map(e=>(0,t.jsx)("button",{className:"bg-[#050a07] border border-[#1e3328] text-slate-400 hover:text-white px-3 py-1 rounded text-xs font-medium whitespace-nowrap transition-colors",children:e},e))]})]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto p-3 space-y-2",children:z.map(s=>(0,t.jsxs)("div",{onClick:()=>l(s.id),className:`group flex gap-3 p-3 border rounded cursor-pointer relative overflow-hidden transition-all
                  ${e===s.id?"bg-[#16261d] border-[#22c55e]/50":"bg-[#050a07] border-[#1e3328] hover:bg-[#16261d] hover:border-[#1e3328]/80"}
                `,children:[e===s.id&&(0,t.jsx)("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-[#22c55e]"}),(0,t.jsx)("div",{className:"w-12 h-12 rounded bg-slate-800 shrink-0 flex items-center justify-center font-bold text-slate-500 border border-[#1e3328]",children:s.fullName.substring(0,2).toUpperCase()}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-1",children:[(0,t.jsx)("h4",{className:`font-bold text-sm truncate ${e===s.id?"text-white":"text-slate-300 group-hover:text-white"}`,children:s.fullName}),(0,t.jsx)("span",{className:`text-[10px] font-bold px-1.5 py-0.5 rounded border ${M(s.tier)}`,children:s.tier})]}),(0,t.jsxs)("p",{className:"text-xs text-slate-500 mb-2",children:["ID: ",s.memberCode]}),(0,t.jsx)("div",{className:"flex items-center gap-4 text-xs",children:(0,t.jsxs)("span",{className:`flex items-center gap-1 ${e===s.id?"text-[#22c55e]":"text-slate-400"}`,children:[(0,t.jsx)(d,{size:14})," ",s.pointsBalance.toLocaleString()," Poin"]})})]})]},s.id))})]}),C?(0,t.jsxs)("main",{className:"flex-1 flex flex-col h-full bg-[#050a07] overflow-hidden relative",children:[(0,t.jsx)("div",{className:"absolute top-0 left-0 right-0 h-48 bg-gradient-to-b from-[#0f1a14] to-[#050a07] z-0 border-b border-[#1e3328]"}),(0,t.jsxs)("div",{className:"relative z-10 px-8 pt-8 pb-6 flex items-end justify-between",children:[(0,t.jsxs)("div",{className:"flex items-end gap-6",children:[(0,t.jsx)("div",{className:"size-32 rounded-lg border-4 border-[#050a07] bg-slate-800 flex items-center justify-center shadow-lg",children:(0,t.jsx)("span",{className:"text-4xl font-bold text-slate-500",children:C.fullName.substring(0,2).toUpperCase()})}),(0,t.jsxs)("div",{className:"pb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-1",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-white",children:C.fullName}),(0,t.jsx)(n,{size:24,className:"text-[#eab308]"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm text-slate-400 mb-2",children:[(0,t.jsxs)("span",{children:["ID: ",(0,t.jsx)("span",{className:"text-white font-mono",children:C.memberCode})]}),(0,t.jsx)("span",{className:"w-1 h-1 bg-slate-600 rounded-full"}),(0,t.jsxs)("span",{children:["Bergabung: ",(0,t.jsx)("span",{className:"text-white",children:new Date(C.joinDate).toLocaleDateString()})]}),(0,t.jsx)("span",{className:"w-1 h-1 bg-slate-600 rounded-full"}),(0,t.jsxs)("span",{children:["No. HP: ",(0,t.jsx)("span",{className:"text-white",children:C.phone})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("span",{className:`text-xs font-bold px-2 py-1 rounded border ${M(C.tier)}`,children:[C.tier," MEMBER"]}),"ACTIVE"===C.status&&(0,t.jsx)("span",{className:"bg-[#22c55e]/10 text-[#22c55e] text-xs font-bold px-2 py-1 rounded border border-[#22c55e]/20",children:"AKTIF"})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pb-2",children:[(0,t.jsxs)("button",{onClick:()=>{w(C),N(!0)},className:"flex items-center gap-2 bg-[#0f1a14] hover:bg-[#16261d] border border-[#1e3328] text-white px-4 py-2 rounded font-medium transition-colors",children:[(0,t.jsx)(o.Edit2,{size:20})," Edit Profil"]}),(0,t.jsxs)("button",{className:"flex items-center gap-2 bg-[#eab308] hover:bg-yellow-500 text-black px-4 py-2 rounded font-bold border border-yellow-600 transition-colors shadow-none",children:[(0,t.jsx)(c,{size:20})," Tukar Reward"]})]})]}),(0,t.jsx)("div",{className:"relative z-10 px-8 mb-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"bg-[#0f1a14] border border-[#1e3328] p-4 rounded flex flex-col",children:[(0,t.jsx)("span",{className:"text-slate-500 text-xs uppercase font-bold tracking-wider mb-1",children:"Sisa Poin"}),(0,t.jsxs)("div",{className:"flex items-end justify-between",children:[(0,t.jsx)("span",{className:"text-3xl font-bold text-[#22c55e]",children:C.pointsBalance.toLocaleString()}),(0,t.jsx)(d,{className:"text-[#22c55e]/30",size:32})]})]}),(0,t.jsxs)("div",{className:"bg-[#0f1a14] border border-[#1e3328] p-4 rounded flex flex-col",children:[(0,t.jsx)("span",{className:"text-slate-500 text-xs uppercase font-bold tracking-wider mb-1",children:"Total Kunjungan"}),(0,t.jsxs)("div",{className:"flex items-end justify-between",children:[(0,t.jsx)("span",{className:"text-3xl font-bold text-white",children:"42"}),(0,t.jsx)("span",{className:"text-xs text-[#22c55e] font-medium mb-1",children:"+2 minggu ini"})]})]}),(0,t.jsxs)("div",{className:"bg-[#0f1a14] border border-[#1e3328] p-4 rounded flex flex-col",children:[(0,t.jsx)("span",{className:"text-slate-500 text-xs uppercase font-bold tracking-wider mb-1",children:"Total Belanja"}),(0,t.jsxs)("div",{className:"flex items-end justify-between",children:[(0,t.jsx)("span",{className:"text-2xl font-bold text-white",children:"Rp 8.4jt"}),(0,t.jsx)(x.Banknote,{className:"text-slate-700",size:32})]})]}),(0,t.jsxs)("div",{className:"bg-[#0f1a14] border border-[#1e3328] p-4 rounded flex flex-col relative overflow-hidden",children:[(0,t.jsx)("span",{className:"text-slate-500 text-xs uppercase font-bold tracking-wider mb-1",children:"Status Tier"}),(0,t.jsxs)("div",{className:"relative z-10",children:[(0,t.jsx)("span",{className:"text-lg font-bold text-[#eab308]",children:C.tier}),(0,t.jsx)("div",{className:"w-full bg-slate-800 h-1.5 rounded-full mt-2 overflow-hidden",children:(0,t.jsx)("div",{className:"bg-[#eab308] h-full w-[75%]"})}),(0,t.jsx)("span",{className:"text-[10px] text-slate-400 mt-1 block",children:"1.5jt lagi ke Platinum"})]})]})]})}),(0,t.jsx)("div",{className:"px-8 border-b border-[#1e3328] flex gap-8 mb-0",children:[{id:"history",label:"Riwayat Transaksi",icon:b.Receipt},{id:"rewards",label:"Katalog Reward",icon:c},{id:"settings",label:"Pengaturan",icon:m.Settings}].map(e=>(0,t.jsxs)("button",{onClick:()=>f(e.id),className:`pb-3 border-b-2 font-medium text-sm flex items-center gap-2 transition-colors
                  ${h===e.id?"border-[#22c55e] text-[#22c55e]":"border-transparent text-slate-400 hover:text-white"}
                `,children:[(0,t.jsx)(e.icon,{size:18}),e.label]},e.id))}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto p-8 bg-[#050a07]",children:["history"===h&&(0,t.jsx)("div",{className:"rounded border border-[#1e3328] overflow-hidden bg-[#0f1a14]",children:(0,t.jsx)("div",{className:"p-8 text-center text-slate-500",children:"Tidak ada riwayat transaksi."})}),"history"!==h&&(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-slate-500 pb-20",children:[(0,t.jsx)(m.Settings,{size:32,className:"opacity-50 mb-4"}),(0,t.jsxs)("p",{children:["Fitur ","rewards"===h?"Katalog Reward":"Pengaturan"," belum tersedia."]})]})]})]}):(0,t.jsx)("main",{className:"flex-1 flex items-center justify-center text-slate-500",children:"Pilih member untuk melihat detail"}),v&&(0,t.jsx)(p,{member:y,onClose:()=>N(!1),onSave:()=>{N(!1),S()}})]})}e.s(["default",()=>f],35980)}]);