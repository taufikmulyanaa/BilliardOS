(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,7233,e=>{"use strict";let s=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>s],7233)},92457,e=>{"use strict";let s=(0,e.i(75254).default)("utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);e.s(["Utensils",()=>s],92457)},96139,e=>{"use strict";let s=(0,e.i(75254).default)("coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);e.s(["Coffee",()=>s],96139)},99023,1928,e=>{"use strict";var s=e.i(75254);let t=(0,s.default)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);e.s(["Minus",()=>t],99023);let a=(0,s.default)("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);e.s(["ShoppingCart",()=>a],1928)},42366,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(83599),l=e.i(55436),i=e.i(7233),r=e.i(99023),n=e.i(1928),c=e.i(92457),d=e.i(96139);let o=(0,e.i(75254).default)("pizza",[["path",{d:"m12 14-1 1",key:"11onhr"}],["path",{d:"m13.75 18.25-1.25 1.42",key:"1yisr3"}],["path",{d:"M17.775 5.654a15.68 15.68 0 0 0-12.121 12.12",key:"1qtqk6"}],["path",{d:"M18.8 9.3a1 1 0 0 0 2.1 7.7",key:"fbbbr2"}],["path",{d:"M21.964 20.732a1 1 0 0 1-1.232 1.232l-18-5a1 1 0 0 1-.695-1.232A19.68 19.68 0 0 1 15.732 2.037a1 1 0 0 1 1.232.695z",key:"1hyfdd"}]]),x=e=>fetch(e).then(e=>e.json());function h(){let{data:e}=(0,a.default)("/api/products",x),h=e?.data||[],[m,p]=(0,t.useState)("Semua"),[u,b]=(0,t.useState)(""),[f,g]=(0,t.useState)([]),j={Semua:"ALL",Makanan:"FOOD",Minuman:"DRINK",Snack:"SNACK"},y=h.filter(e=>{let s=j[m],t="Semua"===m||e.category===s,a=e.name.toLowerCase().includes(u.toLowerCase());return t&&a}),v=e=>{g(s=>s.find(s=>s.id===e.id)?s.map(s=>s.id===e.id?{...s,qty:s.qty+1}:s):[...s,{...e,qty:1}])},N=(e,s)=>{g(t=>t.map(t=>t.id===e?{...t,qty:Math.max(0,t.qty+s)}:t).filter(e=>e.qty>0))},k=f.reduce((e,s)=>e+Number(s.price)*s.qty,0),w=.11*k,M=k+w,S=async()=>{if(0!==f.length)try{let e={paymentMethod:"CASH",items:f.map(e=>({id:e.id,name:e.name,price:Number(e.price),qty:e.qty,type:"PRODUCT"}))};(await fetch("/api/transactions",{method:"POST",body:JSON.stringify(e)})).ok?(alert("Pesanan diproses ke dapur!"),g([])):alert("Gagal memproses pesanan")}catch(e){alert("Error")}};return(0,s.jsxs)("div",{className:"flex flex-1 overflow-hidden relative h-full bg-[#050a07]",children:[(0,s.jsxs)("main",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,s.jsxs)("div",{className:"px-6 py-4 border-b border-[#1e3328] bg-[#0f1a14] flex justify-between items-center z-20 shadow-md",children:[(0,s.jsx)("div",{className:"flex gap-2 bg-[#050a07] p-1 rounded border border-[#1e3328]",children:["Semua","Makanan","Minuman","Snack"].map(e=>(0,s.jsxs)("button",{onClick:()=>p(e),className:`px-4 py-1.5 text-sm font-medium rounded transition-all flex items-center gap-2
                      ${m===e?"bg-[#22c55e] text-black shadow-sm":"text-slate-400 hover:text-white hover:bg-[#16261d]"}
                    `,children:["Makanan"===e&&(0,s.jsx)(c.Utensils,{size:14}),"Minuman"===e&&(0,s.jsx)(d.Coffee,{size:14}),"Snack"===e&&(0,s.jsx)(o,{size:14}),e]},e))}),(0,s.jsxs)("div",{className:"relative group min-w-[300px]",children:[(0,s.jsx)("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-[#22c55e]",children:(0,s.jsx)(l.Search,{size:18})}),(0,s.jsx)("input",{value:u,onChange:e=>b(e.target.value),className:"w-full bg-[#16261d] border border-[#1e3328] rounded-full py-2 pl-10 pr-4 text-sm text-white focus:ring-1 focus:ring-[#22c55e] focus:border-[#22c55e] placeholder:text-slate-500 outline-none transition-all",placeholder:"Cari menu..."})]})]}),(0,s.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:(0,s.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-4",children:y.map(e=>(0,s.jsxs)("div",{className:"bg-[#0f1a14] border border-[#1e3328] rounded-lg overflow-hidden flex flex-col group hover:border-[#22c55e]/50 transition-all",children:[(0,s.jsx)("div",{className:"aspect-square bg-cover bg-center relative",style:{backgroundImage:`url("${e.imageUrl||"/api/placeholder/400/320"}")`},children:(0,s.jsx)("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:(0,s.jsxs)("button",{onClick:()=>v(e),className:"bg-[#22c55e] text-black font-bold py-2 px-6 rounded-full transform translate-y-4 group-hover:translate-y-0 transition-all flex items-center gap-2",children:[(0,s.jsx)(i.Plus,{size:18})," Tambah"]})})}),(0,s.jsxs)("div",{className:"p-4 flex-1 flex flex-col",children:[(0,s.jsx)("div",{className:"flex justify-between items-start mb-1",children:(0,s.jsx)("h4",{className:"font-bold text-white text-lg line-clamp-1",title:e.name,children:e.name})}),(0,s.jsx)("p",{className:"text-xs text-slate-400 mb-3 line-clamp-2 min-h-[2.5em]",children:e.description||"Menu favorit pelanggan."}),(0,s.jsxs)("div",{className:"mt-auto flex items-center justify-between",children:[(0,s.jsxs)("span",{className:"text-[#22c55e] font-bold text-lg",children:["Rp ",Number(e.price).toLocaleString()]}),(0,s.jsx)("button",{onClick:()=>v(e),className:"p-2 bg-[#16261d] rounded-full text-[#22c55e] hover:bg-[#22c55e] hover:text-black transition-colors border border-[#1e3328]",children:(0,s.jsx)(i.Plus,{size:16})})]})]})]},e.id))})})]}),(0,s.jsxs)("aside",{className:"w-[360px] bg-[#0f1a14] border-l border-[#1e3328] flex flex-col shrink-0 z-30 shadow-xl",children:[(0,s.jsxs)("div",{className:"p-5 border-b border-[#1e3328] bg-[#16261d] flex justify-between items-center",children:[(0,s.jsxs)("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[(0,s.jsx)(n.ShoppingCart,{size:20,className:"text-[#22c55e]"})," Pesanan Baru"]}),(0,s.jsxs)("span",{className:"text-xs bg-[#22c55e]/20 text-[#22c55e] px-2 py-1 rounded font-mono",children:["#",Math.floor(1e4*Math.random())]})]}),(0,s.jsx)("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:0===f.length?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-slate-500 opacity-50",children:[(0,s.jsx)(n.ShoppingCart,{size:48,className:"mb-2"}),(0,s.jsx)("p",{className:"text-sm",children:"Keranjang kosong"})]}):f.map(e=>(0,s.jsxs)("div",{className:"flex gap-3 bg-[#050a07] p-3 rounded border border-[#1e3328]",children:[(0,s.jsx)("div",{className:"size-14 bg-cover bg-center rounded border border-[#1e3328]",style:{backgroundImage:`url("${e.imageUrl}")`}}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("h4",{className:"font-bold text-white text-sm truncate mb-1",children:e.name}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("span",{className:"text-xs text-[#22c55e]",children:["Rp ",(Number(e.price)*e.qty).toLocaleString()]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 bg-[#16261d] rounded px-1 py-0.5 border border-[#1e3328]",children:[(0,s.jsx)("button",{onClick:()=>N(e.id,-1),className:"text-slate-400 hover:text-white p-0.5",children:(0,s.jsx)(r.Minus,{size:12})}),(0,s.jsx)("span",{className:"text-xs font-bold w-4 text-center",children:e.qty}),(0,s.jsx)("button",{onClick:()=>N(e.id,1),className:"text-[#22c55e] p-0.5",children:(0,s.jsx)(i.Plus,{size:12})})]})]})]})]},e.id))}),(0,s.jsxs)("div",{className:"p-5 border-t border-[#1e3328] bg-[#16261d]",children:[(0,s.jsxs)("div",{className:"space-y-2 mb-4 text-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between text-slate-400",children:[(0,s.jsx)("span",{children:"Subtotal"}),(0,s.jsxs)("span",{children:["Rp ",k.toLocaleString()]})]}),(0,s.jsxs)("div",{className:"flex justify-between text-slate-400",children:[(0,s.jsx)("span",{children:"Pajak (11%)"}),(0,s.jsxs)("span",{children:["Rp ",w.toLocaleString()]})]}),(0,s.jsx)("div",{className:"h-px bg-[#1e3328] my-2"}),(0,s.jsxs)("div",{className:"flex justify-between text-lg font-bold text-white",children:[(0,s.jsx)("span",{children:"Total"}),(0,s.jsxs)("span",{className:"text-[#22c55e]",children:["Rp ",M.toLocaleString()]})]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("button",{className:"flex-1 py-3 bg-[#1e3328] text-slate-300 hover:text-white border border-[#22c55e]/30 hover:bg-[#22c55e]/20 rounded font-bold transition-all",onClick:()=>g([]),children:"Batal"}),(0,s.jsx)("button",{disabled:0===f.length,onClick:S,className:"flex-[2] py-3 bg-[#22c55e] hover:bg-[#16a34a] disabled:bg-slate-700 disabled:text-slate-500 text-black font-bold rounded shadow-lg shadow-[#22c55e]/20 transition-all active:scale-95",children:"Proses Pesanan"})]})]})]})]})}e.s(["default",()=>h],42366)}]);