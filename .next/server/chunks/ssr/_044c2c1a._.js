module.exports=[10448,a=>{"use strict";let b=(0,a.i(70106).default)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);a.s(["Edit2",()=>b],10448)},81560,a=>{"use strict";let b=(0,a.i(70106).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);a.s(["Trash2",()=>b],81560)},33508,a=>{"use strict";let b=(0,a.i(70106).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);a.s(["X",()=>b],33508)},15618,a=>{"use strict";let b=(0,a.i(70106).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],15618)},50522,a=>{"use strict";let b=(0,a.i(70106).default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);a.s(["ChevronRight",()=>b],50522)},81674,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(72596),e=a.i(70106);let f=(0,e.default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),g=(0,e.default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var h=a.i(50522);let i=(0,e.default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);var j=a.i(15618);let k=(0,e.default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);var l=a.i(33508);let m=(0,e.default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var n=a.i(81560),o=a.i(10448);let p=a=>fetch(a).then(a=>a.json()),q=({reservation:a,onClose:d,onSave:e})=>{let f=!!a,[g,h]=(0,c.useState)({customerName:a?.customerName||"",phone:a?.phone||"",bookingDate:a?.bookingDate?.split("T")[0]||new Date().toISOString().split("T")[0],bookingTime:a?.bookingTime?new Date(a.bookingTime).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"}):"14:00",pax:a?.pax||2,tableType:a?.tableType||"REGULAR",notes:a?.notes||""}),[i,j]=(0,c.useState)(!1),k=async b=>{b.preventDefault(),j(!0);try{let b=f?`/api/reservations/${a.id}`:"/api/reservations";if(!(await fetch(b,{method:f?"PATCH":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)})).ok)throw Error("Failed to save");e()}catch(a){alert("Gagal menyimpan reservasi"),console.error(a)}finally{j(!1)}};return(0,b.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,b.jsxs)("div",{className:"bg-[#0f1a14] border border-[#1e3328] rounded-xl w-full max-w-md overflow-hidden",children:[(0,b.jsxs)("div",{className:"p-4 border-b border-[#1e3328] bg-[#16261d] flex justify-between items-center",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-white",children:f?"Edit Reservasi":"Buat Reservasi Baru"}),(0,b.jsx)("button",{onClick:d,className:"text-slate-400 hover:text-white",children:(0,b.jsx)(l.X,{size:20})})]}),(0,b.jsxs)("form",{onSubmit:k,className:"p-6 space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs text-slate-500 uppercase font-bold block mb-1",children:"Nama Customer"}),(0,b.jsx)("input",{type:"text",required:!0,value:g.customerName,onChange:a=>h({...g,customerName:a.target.value}),className:"w-full bg-[#050a07] border border-[#1e3328] rounded p-2 text-white text-sm focus:border-[#22c55e] outline-none"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs text-slate-500 uppercase font-bold block mb-1",children:"No. Telepon"}),(0,b.jsx)("input",{type:"tel",required:!0,value:g.phone,onChange:a=>h({...g,phone:a.target.value}),className:"w-full bg-[#050a07] border border-[#1e3328] rounded p-2 text-white text-sm focus:border-[#22c55e] outline-none"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs text-slate-500 uppercase font-bold block mb-1",children:"Tanggal"}),(0,b.jsx)("input",{type:"date",required:!0,value:g.bookingDate,onChange:a=>h({...g,bookingDate:a.target.value}),className:"w-full bg-[#050a07] border border-[#1e3328] rounded p-2 text-white text-sm focus:border-[#22c55e] outline-none"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs text-slate-500 uppercase font-bold block mb-1",children:"Waktu"}),(0,b.jsx)("input",{type:"time",required:!0,value:g.bookingTime,onChange:a=>h({...g,bookingTime:a.target.value}),className:"w-full bg-[#050a07] border border-[#1e3328] rounded p-2 text-white text-sm focus:border-[#22c55e] outline-none"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs text-slate-500 uppercase font-bold block mb-1",children:"Jumlah Orang"}),(0,b.jsx)("input",{type:"number",min:1,required:!0,value:g.pax,onChange:a=>h({...g,pax:Number(a.target.value)}),className:"w-full bg-[#050a07] border border-[#1e3328] rounded p-2 text-white text-sm focus:border-[#22c55e] outline-none"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs text-slate-500 uppercase font-bold block mb-1",children:"Tipe Meja"}),(0,b.jsxs)("select",{value:g.tableType,onChange:a=>h({...g,tableType:a.target.value}),className:"w-full bg-[#050a07] border border-[#1e3328] rounded p-2 text-white text-sm focus:border-[#22c55e] outline-none",children:[(0,b.jsx)("option",{value:"REGULAR",children:"Regular"}),(0,b.jsx)("option",{value:"VIP",children:"VIP"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs text-slate-500 uppercase font-bold block mb-1",children:"Catatan (Opsional)"}),(0,b.jsx)("textarea",{value:g.notes,onChange:a=>h({...g,notes:a.target.value}),rows:2,className:"w-full bg-[#050a07] border border-[#1e3328] rounded p-2 text-white text-sm focus:border-[#22c55e] outline-none"})]}),(0,b.jsx)("button",{type:"submit",disabled:i,className:"w-full py-3 bg-[#22c55e] hover:bg-[#16a34a] text-black font-bold rounded-lg disabled:opacity-50",children:i?"Menyimpan...":f?"Simpan Perubahan":"Buat Reservasi"})]})]})})};function r(){let{data:a,mutate:e}=(0,d.default)("/api/reservations",p),l=a?.data||[],[r,s]=(0,c.useState)(!1),[t,u]=(0,c.useState)(null),v=async a=>{await fetch(`/api/reservations/${a}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"CONFIRMED"})}),e()},w=async a=>{confirm("Yakin ingin membatalkan reservasi ini?")&&(await fetch(`/api/reservations/${a}`,{method:"DELETE"}),e())};return(0,b.jsxs)("div",{className:"flex flex-1 flex-col overflow-hidden bg-[#050a07] h-full",children:[(0,b.jsxs)("div",{className:"px-6 py-6 border-b border-[#1e3328] bg-[#0f1a14] flex justify-between items-end",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white mb-1",children:"Jadwal Reservasi"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Kelola booking meja untuk hari ini dan mendatang."})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsxs)("button",{className:"flex items-center gap-2 bg-[#16261d] border border-[#1e3328] text-white px-4 py-2 rounded text-sm font-medium hover:border-[#22c55e] transition-colors",children:[(0,b.jsx)(k,{size:16})," Filter"]}),(0,b.jsxs)("button",{onClick:()=>{u(null),s(!0)},className:"flex items-center gap-2 bg-[#22c55e] hover:bg-[#16a34a] text-black px-4 py-2 rounded text-sm font-bold transition-colors",children:[(0,b.jsx)(j.Plus,{size:16})," Buat Reservasi"]})]})]}),(0,b.jsxs)("div",{className:"flex-1 overflow-y-auto p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,b.jsx)("button",{className:"p-2 rounded bg-[#16261d] text-slate-400 hover:text-white transition-colors border border-[#1e3328]",children:(0,b.jsx)(g,{size:20})}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-white font-bold text-lg",children:[(0,b.jsx)(f,{size:20,className:"text-[#22c55e]"}),(0,b.jsx)("span",{children:new Date().toLocaleDateString("id-ID",{month:"long",year:"numeric"})})]}),(0,b.jsx)("button",{className:"p-2 rounded bg-[#16261d] text-slate-400 hover:text-white transition-colors border border-[#1e3328]",children:(0,b.jsx)(h.ChevronRight,{size:20})})]}),(0,b.jsx)("div",{className:"rounded border border-[#1e3328] overflow-hidden bg-[#0f1a14]",children:(0,b.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,b.jsx)("thead",{className:"bg-[#16261d] text-slate-400 text-xs uppercase font-semibold",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-3 border-b border-[#1e3328]",children:"Waktu / Tanggal"}),(0,b.jsx)("th",{className:"px-6 py-3 border-b border-[#1e3328]",children:"Nama Customer"}),(0,b.jsx)("th",{className:"px-6 py-3 border-b border-[#1e3328]",children:"Kontak"}),(0,b.jsx)("th",{className:"px-6 py-3 border-b border-[#1e3328]",children:"Detail"}),(0,b.jsx)("th",{className:"px-6 py-3 border-b border-[#1e3328] text-center",children:"Status"}),(0,b.jsx)("th",{className:"px-6 py-3 border-b border-[#1e3328] text-right",children:"Aksi"})]})}),(0,b.jsx)("tbody",{className:"text-sm divide-y divide-[#1e3328]",children:0===l.length?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:6,className:"text-center py-8 text-slate-500",children:"Tidak ada reservasi ditemukan."})}):l.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-[#16261d]/50 transition-colors",children:[(0,b.jsxs)("td",{className:"px-6 py-4",children:[(0,b.jsx)("div",{className:"font-bold text-white",children:new Date(a.bookingTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),(0,b.jsx)("div",{className:"text-xs text-slate-400",children:new Date(a.bookingDate).toLocaleDateString()})]}),(0,b.jsxs)("td",{className:"px-6 py-4",children:[(0,b.jsx)("div",{className:"font-medium text-white",children:a.customerName}),a.notes&&(0,b.jsx)("div",{className:"text-xs text-[#eab308] mt-1 italic",children:a.notes})]}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-2 text-slate-300",children:[(0,b.jsx)(i,{size:14,className:"text-slate-500"}),a.phone]})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("span",{className:"text-slate-300",children:[a.pax," Org â€¢ ",a.tableType]})}),(0,b.jsx)("td",{className:"px-6 py-4 text-center",children:(0,b.jsx)("span",{className:`text-xs px-2 py-0.5 rounded border ${(a=>{switch(a){case"CONFIRMED":return"bg-[#22c55e]/20 text-[#22c55e] border-[#22c55e]/20";case"PENDING":return"bg-[#eab308]/20 text-[#eab308] border-[#eab308]/20";case"CANCELLED":return"bg-red-500/20 text-red-500 border-red-500/20";default:return"bg-slate-500/20 text-slate-500 border-slate-500/20"}})(a.status)}`,children:a.status})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("div",{className:"flex justify-end gap-2",children:["PENDING"===a.status&&(0,b.jsx)("button",{onClick:()=>v(a.id),className:"p-1.5 rounded bg-[#22c55e]/10 text-[#22c55e] hover:bg-[#22c55e]/20",title:"Konfirmasi",children:(0,b.jsx)(m,{size:14})}),(0,b.jsx)("button",{onClick:()=>{u(a),s(!0)},className:"p-1.5 rounded bg-[#eab308]/10 text-[#eab308] hover:bg-[#eab308]/20",title:"Edit",children:(0,b.jsx)(o.Edit2,{size:14})}),"CANCELLED"!==a.status&&(0,b.jsx)("button",{onClick:()=>w(a.id),className:"p-1.5 rounded bg-red-500/10 text-red-500 hover:bg-red-500/20",title:"Batalkan",children:(0,b.jsx)(n.Trash2,{size:14})})]})})]},a.id))})]})})]}),r&&(0,b.jsx)(q,{reservation:t,onClose:()=>s(!1),onSave:()=>{s(!1),e()}})]})}a.s(["default",()=>r],81674)}];

//# sourceMappingURL=_044c2c1a._.js.map