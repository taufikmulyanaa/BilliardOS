(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,92930,e=>{"use strict";let t=(0,e.i(75254).default)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);e.s(["Edit2",()=>t],92930)},27612,e=>{"use strict";let t=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>t],27612)},37727,e=>{"use strict";let t=(0,e.i(75254).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>t],37727)},7233,e=>{"use strict";let t=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},63059,e=>{"use strict";let t=(0,e.i(75254).default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);e.s(["ChevronRight",()=>t],63059)},58572,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(83599),r=e.i(75254);let l=(0,r.default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),i=(0,r.default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var d=e.i(63059);let n=(0,r.default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);var o=e.i(7233);let c=(0,r.default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);var x=e.i(37727);let h=(0,r.default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var b=e.i(27612),u=e.i(92930);let m=e=>fetch(e).then(e=>e.json()),p=({reservation:e,onClose:a,onSave:r})=>{let l=!!e,[i,d]=(0,s.useState)({customerName:e?.customerName||"",phone:e?.phone||"",bookingDate:e?.bookingDate?.split("T")[0]||new Date().toISOString().split("T")[0],bookingTime:e?.bookingTime?new Date(e.bookingTime).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"}):"14:00",pax:e?.pax||2,tableType:e?.tableType||"REGULAR",notes:e?.notes||""}),[n,o]=(0,s.useState)(!1),c=async t=>{t.preventDefault(),o(!0);try{let t=l?`/api/reservations/${e.id}`:"/api/reservations";if(!(await fetch(t,{method:l?"PATCH":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)})).ok)throw Error("Failed to save");r()}catch(e){alert("Gagal menyimpan reservasi"),console.error(e)}finally{o(!1)}};return(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"bg-[#0f1a14] border border-[#1e3328] rounded-xl w-full max-w-md overflow-hidden",children:[(0,t.jsxs)("div",{className:"p-4 border-b border-[#1e3328] bg-[#16261d] flex justify-between items-center",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:l?"Edit Reservasi":"Buat Reservasi Baru"}),(0,t.jsx)("button",{onClick:a,className:"text-slate-400 hover:text-white",children:(0,t.jsx)(x.X,{size:20})})]}),(0,t.jsxs)("form",{onSubmit:c,className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-slate-500 uppercase font-bold block mb-1",children:"Nama Customer"}),(0,t.jsx)("input",{type:"text",required:!0,value:i.customerName,onChange:e=>d({...i,customerName:e.target.value}),className:"w-full bg-[#050a07] border border-[#1e3328] rounded p-2 text-white text-sm focus:border-[#22c55e] outline-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-slate-500 uppercase font-bold block mb-1",children:"No. Telepon"}),(0,t.jsx)("input",{type:"tel",required:!0,value:i.phone,onChange:e=>d({...i,phone:e.target.value}),className:"w-full bg-[#050a07] border border-[#1e3328] rounded p-2 text-white text-sm focus:border-[#22c55e] outline-none"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-slate-500 uppercase font-bold block mb-1",children:"Tanggal"}),(0,t.jsx)("input",{type:"date",required:!0,value:i.bookingDate,onChange:e=>d({...i,bookingDate:e.target.value}),className:"w-full bg-[#050a07] border border-[#1e3328] rounded p-2 text-white text-sm focus:border-[#22c55e] outline-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-slate-500 uppercase font-bold block mb-1",children:"Waktu"}),(0,t.jsx)("input",{type:"time",required:!0,value:i.bookingTime,onChange:e=>d({...i,bookingTime:e.target.value}),className:"w-full bg-[#050a07] border border-[#1e3328] rounded p-2 text-white text-sm focus:border-[#22c55e] outline-none"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-slate-500 uppercase font-bold block mb-1",children:"Jumlah Orang"}),(0,t.jsx)("input",{type:"number",min:1,required:!0,value:i.pax,onChange:e=>d({...i,pax:Number(e.target.value)}),className:"w-full bg-[#050a07] border border-[#1e3328] rounded p-2 text-white text-sm focus:border-[#22c55e] outline-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-slate-500 uppercase font-bold block mb-1",children:"Tipe Meja"}),(0,t.jsxs)("select",{value:i.tableType,onChange:e=>d({...i,tableType:e.target.value}),className:"w-full bg-[#050a07] border border-[#1e3328] rounded p-2 text-white text-sm focus:border-[#22c55e] outline-none",children:[(0,t.jsx)("option",{value:"REGULAR",children:"Regular"}),(0,t.jsx)("option",{value:"VIP",children:"VIP"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-slate-500 uppercase font-bold block mb-1",children:"Catatan (Opsional)"}),(0,t.jsx)("textarea",{value:i.notes,onChange:e=>d({...i,notes:e.target.value}),rows:2,className:"w-full bg-[#050a07] border border-[#1e3328] rounded p-2 text-white text-sm focus:border-[#22c55e] outline-none"})]}),(0,t.jsx)("button",{type:"submit",disabled:n,className:"w-full py-3 bg-[#22c55e] hover:bg-[#16a34a] text-black font-bold rounded-lg disabled:opacity-50",children:n?"Menyimpan...":l?"Simpan Perubahan":"Buat Reservasi"})]})]})})};function g(){let{data:e,mutate:r}=(0,a.default)("/api/reservations",m),x=e?.data||[],[g,j]=(0,s.useState)(!1),[v,f]=(0,s.useState)(null),N=async e=>{await fetch(`/api/reservations/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"CONFIRMED"})}),r()},y=async e=>{confirm("Yakin ingin membatalkan reservasi ini?")&&(await fetch(`/api/reservations/${e}`,{method:"DELETE"}),r())};return(0,t.jsxs)("div",{className:"flex flex-1 flex-col overflow-hidden bg-[#050a07] h-full",children:[(0,t.jsxs)("div",{className:"px-6 py-6 border-b border-[#1e3328] bg-[#0f1a14] flex justify-between items-end",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-1",children:"Jadwal Reservasi"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Kelola booking meja untuk hari ini dan mendatang."})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)("button",{className:"flex items-center gap-2 bg-[#16261d] border border-[#1e3328] text-white px-4 py-2 rounded text-sm font-medium hover:border-[#22c55e] transition-colors",children:[(0,t.jsx)(c,{size:16})," Filter"]}),(0,t.jsxs)("button",{onClick:()=>{f(null),j(!0)},className:"flex items-center gap-2 bg-[#22c55e] hover:bg-[#16a34a] text-black px-4 py-2 rounded text-sm font-bold transition-colors",children:[(0,t.jsx)(o.Plus,{size:16})," Buat Reservasi"]})]})]}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,t.jsx)("button",{className:"p-2 rounded bg-[#16261d] text-slate-400 hover:text-white transition-colors border border-[#1e3328]",children:(0,t.jsx)(i,{size:20})}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-white font-bold text-lg",children:[(0,t.jsx)(l,{size:20,className:"text-[#22c55e]"}),(0,t.jsx)("span",{children:new Date().toLocaleDateString("id-ID",{month:"long",year:"numeric"})})]}),(0,t.jsx)("button",{className:"p-2 rounded bg-[#16261d] text-slate-400 hover:text-white transition-colors border border-[#1e3328]",children:(0,t.jsx)(d.ChevronRight,{size:20})})]}),(0,t.jsx)("div",{className:"rounded border border-[#1e3328] overflow-hidden bg-[#0f1a14]",children:(0,t.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,t.jsx)("thead",{className:"bg-[#16261d] text-slate-400 text-xs uppercase font-semibold",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3 border-b border-[#1e3328]",children:"Waktu / Tanggal"}),(0,t.jsx)("th",{className:"px-6 py-3 border-b border-[#1e3328]",children:"Nama Customer"}),(0,t.jsx)("th",{className:"px-6 py-3 border-b border-[#1e3328]",children:"Kontak"}),(0,t.jsx)("th",{className:"px-6 py-3 border-b border-[#1e3328]",children:"Detail"}),(0,t.jsx)("th",{className:"px-6 py-3 border-b border-[#1e3328] text-center",children:"Status"}),(0,t.jsx)("th",{className:"px-6 py-3 border-b border-[#1e3328] text-right",children:"Aksi"})]})}),(0,t.jsx)("tbody",{className:"text-sm divide-y divide-[#1e3328]",children:0===x.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:6,className:"text-center py-8 text-slate-500",children:"Tidak ada reservasi ditemukan."})}):x.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-[#16261d]/50 transition-colors",children:[(0,t.jsxs)("td",{className:"px-6 py-4",children:[(0,t.jsx)("div",{className:"font-bold text-white",children:new Date(e.bookingTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),(0,t.jsx)("div",{className:"text-xs text-slate-400",children:new Date(e.bookingDate).toLocaleDateString()})]}),(0,t.jsxs)("td",{className:"px-6 py-4",children:[(0,t.jsx)("div",{className:"font-medium text-white",children:e.customerName}),e.notes&&(0,t.jsx)("div",{className:"text-xs text-[#eab308] mt-1 italic",children:e.notes})]}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 text-slate-300",children:[(0,t.jsx)(n,{size:14,className:"text-slate-500"}),e.phone]})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("span",{className:"text-slate-300",children:[e.pax," Org â€¢ ",e.tableType]})}),(0,t.jsx)("td",{className:"px-6 py-4 text-center",children:(0,t.jsx)("span",{className:`text-xs px-2 py-0.5 rounded border ${(e=>{switch(e){case"CONFIRMED":return"bg-[#22c55e]/20 text-[#22c55e] border-[#22c55e]/20";case"PENDING":return"bg-[#eab308]/20 text-[#eab308] border-[#eab308]/20";case"CANCELLED":return"bg-red-500/20 text-red-500 border-red-500/20";default:return"bg-slate-500/20 text-slate-500 border-slate-500/20"}})(e.status)}`,children:e.status})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:["PENDING"===e.status&&(0,t.jsx)("button",{onClick:()=>N(e.id),className:"p-1.5 rounded bg-[#22c55e]/10 text-[#22c55e] hover:bg-[#22c55e]/20",title:"Konfirmasi",children:(0,t.jsx)(h,{size:14})}),(0,t.jsx)("button",{onClick:()=>{f(e),j(!0)},className:"p-1.5 rounded bg-[#eab308]/10 text-[#eab308] hover:bg-[#eab308]/20",title:"Edit",children:(0,t.jsx)(u.Edit2,{size:14})}),"CANCELLED"!==e.status&&(0,t.jsx)("button",{onClick:()=>y(e.id),className:"p-1.5 rounded bg-red-500/10 text-red-500 hover:bg-red-500/20",title:"Batalkan",children:(0,t.jsx)(b.Trash2,{size:14})})]})})]},e.id))})]})})]}),g&&(0,t.jsx)(p,{reservation:v,onClose:()=>j(!1),onSave:()=>{j(!1),r()}})]})}e.s(["default",()=>g],58572)}]);