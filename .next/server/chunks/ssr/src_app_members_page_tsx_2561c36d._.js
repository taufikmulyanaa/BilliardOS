module.exports=[38291,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(72596),e=a.i(70106);let f=(0,e.default)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var g=a.i(87532);let h=(0,e.default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),i=(0,e.default)("badge-check",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var j=a.i(10448);let k=(0,e.default)("gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);var l=a.i(66322),m=a.i(1199),n=a.i(21161),o=a.i(33508);let p=a=>fetch(a).then(a=>a.json()),q=({member:a,onClose:d,onSave:e})=>{let f=!!a,[g,h]=(0,c.useState)({memberCode:a?.memberCode||`M${Date.now().toString().slice(-6)}`,fullName:a?.fullName||"",phone:a?.phone||"",tier:a?.tier||"BRONZE"}),[i,j]=(0,c.useState)(!1),k=async b=>{b.preventDefault(),j(!0);try{let b=f?`/api/members/${a.id}`:"/api/members/create";if(!(await fetch(b,{method:f?"PATCH":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)})).ok)throw Error("Failed to save");e()}catch(a){alert("Gagal menyimpan member"),console.error(a)}finally{j(!1)}};return(0,b.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,b.jsxs)("div",{className:"bg-[#0f1a14] border border-[#1e3328] rounded-xl w-full max-w-md overflow-hidden",children:[(0,b.jsxs)("div",{className:"p-4 border-b border-[#1e3328] bg-[#16261d] flex justify-between items-center",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-white",children:f?"Edit Member":"Tambah Member Baru"}),(0,b.jsx)("button",{onClick:d,className:"text-slate-400 hover:text-white",children:(0,b.jsx)(o.X,{size:20})})]}),(0,b.jsxs)("form",{onSubmit:k,className:"p-6 space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs text-slate-500 uppercase font-bold block mb-1",children:"Kode Member"}),(0,b.jsx)("input",{type:"text",required:!0,value:g.memberCode,onChange:a=>h({...g,memberCode:a.target.value}),disabled:f,className:"w-full bg-[#050a07] border border-[#1e3328] rounded p-2 text-white text-sm focus:border-[#22c55e] outline-none font-mono disabled:opacity-50"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs text-slate-500 uppercase font-bold block mb-1",children:"Nama Lengkap"}),(0,b.jsx)("input",{type:"text",required:!0,value:g.fullName,onChange:a=>h({...g,fullName:a.target.value}),className:"w-full bg-[#050a07] border border-[#1e3328] rounded p-2 text-white text-sm focus:border-[#22c55e] outline-none"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs text-slate-500 uppercase font-bold block mb-1",children:"No. Telepon"}),(0,b.jsx)("input",{type:"tel",required:!0,value:g.phone,onChange:a=>h({...g,phone:a.target.value}),className:"w-full bg-[#050a07] border border-[#1e3328] rounded p-2 text-white text-sm focus:border-[#22c55e] outline-none"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs text-slate-500 uppercase font-bold block mb-1",children:"Tier"}),(0,b.jsxs)("select",{value:g.tier,onChange:a=>h({...g,tier:a.target.value}),className:"w-full bg-[#050a07] border border-[#1e3328] rounded p-2 text-white text-sm focus:border-[#22c55e] outline-none",children:[(0,b.jsx)("option",{value:"BRONZE",children:"Bronze"}),(0,b.jsx)("option",{value:"SILVER",children:"Silver"}),(0,b.jsx)("option",{value:"GOLD",children:"Gold"})]})]}),(0,b.jsx)("button",{type:"submit",disabled:i,className:"w-full py-3 bg-[#22c55e] hover:bg-[#16a34a] text-black font-bold rounded-lg disabled:opacity-50",children:i?"Menyimpan...":f?"Simpan Perubahan":"Tambah Member"})]})]})})};function r(){let[a,e]=(0,c.useState)(null),[o,r]=(0,c.useState)("history"),[s,t]=(0,c.useState)(""),[u,v]=(0,c.useState)(!1),[w,x]=(0,c.useState)(null),{data:y,mutate:z}=(0,d.default)(`/api/members?q=${s}`,p),A=y?.data||[],B=A.find(b=>b.id===a)||A[0];c.default.useEffect(()=>{!a&&A.length>0&&e(A[0].id)},[A,a]);let C=a=>{switch(a){case"GOLD":return"text-[#eab308] bg-[#eab308]/20 border-[#eab308]/30";case"SILVER":return"text-slate-300 bg-slate-700 border-slate-600";case"BRONZE":return"text-[#f97316] bg-[#f97316]/20 border-[#f97316]/30";default:return"text-slate-500 bg-slate-800 border-slate-700"}};return(0,b.jsxs)("div",{className:"flex flex-1 overflow-hidden relative h-full",children:[(0,b.jsxs)("aside",{className:"w-[400px] bg-[#0f1a14] border-r border-[#1e3328] flex flex-col shrink-0 z-10",children:[(0,b.jsxs)("div",{className:"p-4 border-b border-[#1e3328] space-y-4",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("h3",{className:"font-bold text-lg text-white",children:"Daftar Member"}),(0,b.jsxs)("button",{onClick:()=>{x(null),v(!0)},className:"flex items-center gap-2 bg-[#22c55e] hover:bg-[#16a34a] text-black text-sm font-bold py-1.5 px-3 rounded transition-colors",children:[(0,b.jsx)(f,{size:18})," Baru"]})]}),(0,b.jsxs)("div",{className:"relative group",children:[(0,b.jsx)("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-[#22c55e]",children:(0,b.jsx)(g.Search,{size:20})}),(0,b.jsx)("input",{className:"w-full bg-[#050a07] border border-[#1e3328] rounded py-2 pl-10 pr-4 text-sm text-white focus:ring-1 focus:ring-[#22c55e] focus:border-[#22c55e] placeholder:text-slate-600 outline-none",placeholder:"Cari nama, ID, atau no HP...",type:"text",value:s,onChange:a=>t(a.target.value)})]}),(0,b.jsxs)("div",{className:"flex gap-2 overflow-x-auto no-scrollbar pb-1",children:[(0,b.jsx)("button",{className:"bg-[#22c55e]/20 border border-[#22c55e] text-[#22c55e] px-3 py-1 rounded text-xs font-medium whitespace-nowrap",children:"Semua"}),["VIP Gold","Silver","Expired"].map(a=>(0,b.jsx)("button",{className:"bg-[#050a07] border border-[#1e3328] text-slate-400 hover:text-white px-3 py-1 rounded text-xs font-medium whitespace-nowrap transition-colors",children:a},a))]})]}),(0,b.jsx)("div",{className:"flex-1 overflow-y-auto p-3 space-y-2",children:A.map(c=>(0,b.jsxs)("div",{onClick:()=>e(c.id),className:`group flex gap-3 p-3 border rounded cursor-pointer relative overflow-hidden transition-all
                  ${a===c.id?"bg-[#16261d] border-[#22c55e]/50":"bg-[#050a07] border-[#1e3328] hover:bg-[#16261d] hover:border-[#1e3328]/80"}
                `,children:[a===c.id&&(0,b.jsx)("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-[#22c55e]"}),(0,b.jsx)("div",{className:"w-12 h-12 rounded bg-slate-800 shrink-0 flex items-center justify-center font-bold text-slate-500 border border-[#1e3328]",children:c.fullName.substring(0,2).toUpperCase()}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-1",children:[(0,b.jsx)("h4",{className:`font-bold text-sm truncate ${a===c.id?"text-white":"text-slate-300 group-hover:text-white"}`,children:c.fullName}),(0,b.jsx)("span",{className:`text-[10px] font-bold px-1.5 py-0.5 rounded border ${C(c.tier)}`,children:c.tier})]}),(0,b.jsxs)("p",{className:"text-xs text-slate-500 mb-2",children:["ID: ",c.memberCode]}),(0,b.jsx)("div",{className:"flex items-center gap-4 text-xs",children:(0,b.jsxs)("span",{className:`flex items-center gap-1 ${a===c.id?"text-[#22c55e]":"text-slate-400"}`,children:[(0,b.jsx)(h,{size:14})," ",c.pointsBalance.toLocaleString()," Poin"]})})]})]},c.id))})]}),B?(0,b.jsxs)("main",{className:"flex-1 flex flex-col h-full bg-[#050a07] overflow-hidden relative",children:[(0,b.jsx)("div",{className:"absolute top-0 left-0 right-0 h-48 bg-gradient-to-b from-[#0f1a14] to-[#050a07] z-0 border-b border-[#1e3328]"}),(0,b.jsxs)("div",{className:"relative z-10 px-8 pt-8 pb-6 flex items-end justify-between",children:[(0,b.jsxs)("div",{className:"flex items-end gap-6",children:[(0,b.jsx)("div",{className:"size-32 rounded-lg border-4 border-[#050a07] bg-slate-800 flex items-center justify-center shadow-lg",children:(0,b.jsx)("span",{className:"text-4xl font-bold text-slate-500",children:B.fullName.substring(0,2).toUpperCase()})}),(0,b.jsxs)("div",{className:"pb-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-1",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-white",children:B.fullName}),(0,b.jsx)(i,{size:24,className:"text-[#eab308]"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 text-sm text-slate-400 mb-2",children:[(0,b.jsxs)("span",{children:["ID: ",(0,b.jsx)("span",{className:"text-white font-mono",children:B.memberCode})]}),(0,b.jsx)("span",{className:"w-1 h-1 bg-slate-600 rounded-full"}),(0,b.jsxs)("span",{children:["Bergabung: ",(0,b.jsx)("span",{className:"text-white",children:new Date(B.joinDate).toLocaleDateString()})]}),(0,b.jsx)("span",{className:"w-1 h-1 bg-slate-600 rounded-full"}),(0,b.jsxs)("span",{children:["No. HP: ",(0,b.jsx)("span",{className:"text-white",children:B.phone})]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)("span",{className:`text-xs font-bold px-2 py-1 rounded border ${C(B.tier)}`,children:[B.tier," MEMBER"]}),"ACTIVE"===B.status&&(0,b.jsx)("span",{className:"bg-[#22c55e]/10 text-[#22c55e] text-xs font-bold px-2 py-1 rounded border border-[#22c55e]/20",children:"AKTIF"})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-3 pb-2",children:[(0,b.jsxs)("button",{onClick:()=>{x(B),v(!0)},className:"flex items-center gap-2 bg-[#0f1a14] hover:bg-[#16261d] border border-[#1e3328] text-white px-4 py-2 rounded font-medium transition-colors",children:[(0,b.jsx)(j.Edit2,{size:20})," Edit Profil"]}),(0,b.jsxs)("button",{className:"flex items-center gap-2 bg-[#eab308] hover:bg-yellow-500 text-black px-4 py-2 rounded font-bold border border-yellow-600 transition-colors shadow-none",children:[(0,b.jsx)(k,{size:20})," Tukar Reward"]})]})]}),(0,b.jsx)("div",{className:"relative z-10 px-8 mb-6",children:(0,b.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{className:"bg-[#0f1a14] border border-[#1e3328] p-4 rounded flex flex-col",children:[(0,b.jsx)("span",{className:"text-slate-500 text-xs uppercase font-bold tracking-wider mb-1",children:"Sisa Poin"}),(0,b.jsxs)("div",{className:"flex items-end justify-between",children:[(0,b.jsx)("span",{className:"text-3xl font-bold text-[#22c55e]",children:B.pointsBalance.toLocaleString()}),(0,b.jsx)(h,{className:"text-[#22c55e]/30",size:32})]})]}),(0,b.jsxs)("div",{className:"bg-[#0f1a14] border border-[#1e3328] p-4 rounded flex flex-col",children:[(0,b.jsx)("span",{className:"text-slate-500 text-xs uppercase font-bold tracking-wider mb-1",children:"Total Kunjungan"}),(0,b.jsxs)("div",{className:"flex items-end justify-between",children:[(0,b.jsx)("span",{className:"text-3xl font-bold text-white",children:"42"}),(0,b.jsx)("span",{className:"text-xs text-[#22c55e] font-medium mb-1",children:"+2 minggu ini"})]})]}),(0,b.jsxs)("div",{className:"bg-[#0f1a14] border border-[#1e3328] p-4 rounded flex flex-col",children:[(0,b.jsx)("span",{className:"text-slate-500 text-xs uppercase font-bold tracking-wider mb-1",children:"Total Belanja"}),(0,b.jsxs)("div",{className:"flex items-end justify-between",children:[(0,b.jsx)("span",{className:"text-2xl font-bold text-white",children:"Rp 8.4jt"}),(0,b.jsx)(l.Banknote,{className:"text-slate-700",size:32})]})]}),(0,b.jsxs)("div",{className:"bg-[#0f1a14] border border-[#1e3328] p-4 rounded flex flex-col relative overflow-hidden",children:[(0,b.jsx)("span",{className:"text-slate-500 text-xs uppercase font-bold tracking-wider mb-1",children:"Status Tier"}),(0,b.jsxs)("div",{className:"relative z-10",children:[(0,b.jsx)("span",{className:"text-lg font-bold text-[#eab308]",children:B.tier}),(0,b.jsx)("div",{className:"w-full bg-slate-800 h-1.5 rounded-full mt-2 overflow-hidden",children:(0,b.jsx)("div",{className:"bg-[#eab308] h-full w-[75%]"})}),(0,b.jsx)("span",{className:"text-[10px] text-slate-400 mt-1 block",children:"1.5jt lagi ke Platinum"})]})]})]})}),(0,b.jsx)("div",{className:"px-8 border-b border-[#1e3328] flex gap-8 mb-0",children:[{id:"history",label:"Riwayat Transaksi",icon:m.Receipt},{id:"rewards",label:"Katalog Reward",icon:k},{id:"settings",label:"Pengaturan",icon:n.Settings}].map(a=>(0,b.jsxs)("button",{onClick:()=>r(a.id),className:`pb-3 border-b-2 font-medium text-sm flex items-center gap-2 transition-colors
                  ${o===a.id?"border-[#22c55e] text-[#22c55e]":"border-transparent text-slate-400 hover:text-white"}
                `,children:[(0,b.jsx)(a.icon,{size:18}),a.label]},a.id))}),(0,b.jsxs)("div",{className:"flex-1 overflow-y-auto p-8 bg-[#050a07]",children:["history"===o&&(0,b.jsx)("div",{className:"rounded border border-[#1e3328] overflow-hidden bg-[#0f1a14]",children:(0,b.jsx)("div",{className:"p-8 text-center text-slate-500",children:"Tidak ada riwayat transaksi."})}),"history"!==o&&(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-slate-500 pb-20",children:[(0,b.jsx)(n.Settings,{size:32,className:"opacity-50 mb-4"}),(0,b.jsxs)("p",{children:["Fitur ","rewards"===o?"Katalog Reward":"Pengaturan"," belum tersedia."]})]})]})]}):(0,b.jsx)("main",{className:"flex-1 flex items-center justify-center text-slate-500",children:"Pilih member untuk melihat detail"}),u&&(0,b.jsx)(q,{member:w,onClose:()=>v(!1),onSave:()=>{v(!1),z()}})]})}a.s(["default",()=>r],38291)}];

//# sourceMappingURL=src_app_members_page_tsx_2561c36d._.js.map